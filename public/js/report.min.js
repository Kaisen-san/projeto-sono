"use strict";!function(){var o=document.getElementById("login");null!=o&&o.addEventListener("submit",function(e){e.preventDefault();var t=o.querySelector('input[name="password"]');axios.post("/report/login",{password:t.value}).then(function(e){var t=e.data,o=t.cookie,n=t.redirectTo;document.cookie=o,window.location.href=n}).catch(function(e){console.error(e)})});var e=document.getElementById("logout");null!=e&&e.addEventListener("click",function(e){e.preventDefault(),axios.delete("/report/logout").then(function(e){var t=e.data,o=t.cookie,n=t.redirectTo;document.cookie=o,window.location.href=n}).catch(function(e){console.error(e)})});var r=document.getElementById("report");null!=r&&r.addEventListener("submit",function(e){e.preventDefault();var t=r.querySelector('select[name="year"]'),o=r.querySelector('select[name="state"]'),n=r.querySelector('select[name="acceptTerms"]');axios.post("/report",{year:parseInt(t.value),state:o.value,acceptTerms:parseInt(n.value)},{responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a"),n=e.headers["content-disposition"],r="output.csv";if(n){var c=n.match(/filename=(.+)/);2===c.length&&(r=c[1])}o.href=t,o.setAttribute("download",r),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(t)}).catch(function(e){console.error(e)})})}();